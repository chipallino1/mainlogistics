<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
    <title>Title</title>
</head>
<body>
    <ui:composition template = "../templates/template.xhtml">
        <ui:define name="content">
            <div class="container">
                <br/>
                <br/>
                <br/>
                <hr/>
                <div class="row justify-content-center" id="signup" >

                    <div class="col-md-6"  id="inputUser">

                        <div class="card">
                            <header class="card-header">
                                <a class="float-right btn btn-outline-primary mt-1" id="onclickLogin" style="color: #007bff;" onclick="hide()">Log In</a>
                                <h4 class="card-title mt-2">Sign up</h4>
                            </header>
                            <article class="card-body">

                                    <div class="row justify-content-center">
                                        <!-- Material inline 1 -->
                                        <!-- Default inline 1-->
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" id="defaultInline1" name="inlineDefaultRadiosExample" onclick="showHideInputs()"/>
                                            <label class="custom-control-label" for="defaultInline1"><b>User</b></label>
                                        </div>

                                        <!-- Default inline 2-->
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" id="defaultInline2" name="inlineDefaultRadiosExample" onclick="showHideInputs()"/>
                                            <label class="custom-control-label" for="defaultInline2"><b>Firm</b></label>
                                        </div>
                                    </div>
                            <h:form enctype="multipart/form-data" id="contactInfo">
                                    <div class="container">
                                        <div class="form-row">
                                            <div class="col form-group">
                                                <label>First name </label>
                                                <h:message for = "inputFName" style = "color:red; font-size: 12px;" />
                                                <h:inputText id="inputFName" class="form-control" a:placeholder="first name" value="#{authenticationMBeanController.contactDTO.firstName}"/>
                                            </div> <!-- form-group end.// -->
                                            <div class="col form-group">
                                                <label>Last name</label>
                                                <h:message for = "inputLName" style = "color:red; font-size: 12px;" />
                                                <h:inputText id="inputLName" class="form-control" a:placeholder="last name" value="#{authenticationMBeanController.contactDTO.lastName}"/>
                                            </div> <!-- form-group end.// -->
                                        </div> <!-- form-row end.// -->
                                        <div class="form-group">
                                            <label>Email address</label>
                                            <h:message for = "inputContactEmail" style = "color:red; font-size: 12px;" />
                                            <h:inputText id="inputContactEmail" class="form-control" a:placeholder="email" value="#{authenticationMBeanController.contactDTO.email}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Phone Num.</label>
                                            <h:message for = "inputContactPhone" style = "color:red; font-size: 12px;" />
                                            <h:inputText id="inputContactPhone" class="form-control" a:placeholder="phone number" value="#{authenticationMBeanController.contactDTO.phoneNum}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Choose photo</label>
                                            <h:inputFile a:accept="image/*" value="#{authenticationMBeanController.contactDTO.partImage}"/>
                                        </div> <!-- form-group end.// -->

                                        <div class="form-group">
                                            <label class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="type" id="userradio" value="user" onclick='contactOrSimpleSelect(this)'/>
                                                <span class="form-check-label"> Simple user </span>
                                            </label>
                                            <label class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="type" id="contactradio" value="contact" onclick='contactOrSimpleSelect(this)' />
                                                <span class="form-check-label"> Contact person </span>
                                            </label>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group" id="firms" style="display: none;">
                                            <label>Choose firm</label>
                                            <h:form autocomplete="off" id="autocompleteForm">
                                                <div class="autocomplete" style="width:150px;">
                                                    <h:inputText id="myInput" class="form-control" type="text" name="myCountry" a:placeholder="firm name">
                                                        <f:ajax event="keyup" render="autocompleteForm" onevent="function(data) { getFirms(data,#{authenticationMBeanController.json}) }"/>
                                                        <c:if test="#{param['contactInfo:autocompleteForm:myInput'].length() == 3}">
                                                            <f:ajax event="keyup" render="resultSet" listener="#{authenticationMBeanController.getFirms}"/>
                                                        </c:if>
                                                    </h:inputText>
                                                </div>
                                                <br/>
                                                <h:selectOneMenu id="resultSet" class="form-control">
                                                    <f:selectItems value="#{authenticationMBeanController.firmsNamesList}"/>
                                                </h:selectOneMenu>
                                            </h:form>
                                        </div>
                                        <div class="form-group">
                                            <label>Create password</label>
                                            <h:inputSecret class="form-control" value="#{authenticationMBeanController.contactDTO.password}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Confirm password</label>
                                            <h:inputSecret class="form-control" id="inputContactPassword" value="#{authenticationMBeanController.contactDTO.passwordRepeat}"/>
                                            <h:message for = "inputContactPassword" style = "color:red; font-size: 12px;" />
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <h:commandButton styleClass="btn btn-primary btn-block" value="Register" action="#{authenticationMBeanController.register}">
                                                <f:param name="signUpType" value="CONTACT"/>
                                            </h:commandButton>
                                        </div> <!-- form-group// -->
                                        <small class="text-muted">By clicking the 'Sign Up' button, you confirm that you accept our <br/> Terms of use and Privacy Policy.</small>

                                    </div>
                            </h:form>

                            </article> <!-- card-body end .// -->
                        </div> <!-- card.// -->
                    </div> <!-- col.//-->

                    <div class="col-md-6"  id="inputFirm" style="display: none;">

                        <div class="card">
                            <header class="card-header">
                                <a class="float-right btn btn-outline-primary mt-1" style="color: #007bff;" onclick="hide()">Log In</a>
                                <h4 class="card-title mt-2">Sign up</h4>
                            </header>
                            <article class="card-body">
                                <h:form enctype="multipart/form-data">
                                    <div class="row justify-content-center">
                                        <!-- Material inline 1 -->
                                        <!-- Default inline 1-->
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" id="defaultInline11" name="inlineDefaultRadiosExample" onclick="showHideInputs()"/>
                                            <label class="custom-control-label" for="defaultInline1"><b>User</b></label>
                                        </div>

                                        <!-- Default inline 2-->
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" class="custom-control-input" id="defaultInline22" name="inlineDefaultRadiosExample" onclick="showHideInputs()"/>
                                            <label class="custom-control-label" for="defaultInline2"><b>Firm</b></label>
                                        </div>
                                    </div>
                                    <div class="container">
                                        <div class="form-row">
                                            <div class="col form-group">
                                                <label>Firm name</label>
                                                <h:message for = "inputFirmName" style = "color:red; font-size: 12px;" />
                                                <h:inputText id="inputFirmName" class="form-control" a:placeholder="firm name" value="#{authenticationMBeanController.firmDTO.firmName}"/>
                                            </div> <!-- form-group end.// -->
                                        </div> <!-- form-row end.// -->
                                        <div class="form-group">
                                            <label>Email address</label>
                                            <h:message for = "firmEmail" style = "color:red; font-size: 12px;" />
                                            <h:inputText id="firmEmail" class="form-control" a:placeholder="email" value="#{authenticationMBeanController.firmDTO.email}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Description</label>
                                            <h:inputText id="inputDesc" class="form-control" a:placeholder="description" value="#{authenticationMBeanController.firmDTO.description}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <h:message for = "inputFirmType" style = "color:red; font-size: 12px;" />
                                            <h:selectOneRadio value = "#{authenticationMBeanController.firmDTO.firmType}" id="inputFirmType">
                                                <f:selectItem itemValue = "simple" itemLabel = " Simple "  />
                                                <f:selectItem itemValue = "logistic" itemLabel = "  Logistic" />
                                            </h:selectOneRadio>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Choose photo</label>
                                            <h:inputFile a:accept="image/*" value="#{authenticationMBeanController.firmDTO.partImage}"/>
                                        </div> <!-- form-group end.// -->

                                        <div class="form-group">
                                            <label>Create password</label>
                                            <h:inputSecret class="form-control" value="#{authenticationMBeanController.firmDTO.password}"/>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <label>Confirm password</label>
                                            <h:inputSecret class="form-control" value="#{authenticationMBeanController.firmDTO.passwordRepeat}"/>
                                            <small class="text-danger" > Passwords must be same</small>
                                        </div> <!-- form-group end.// -->
                                        <div class="form-group">
                                            <h:commandButton styleClass="btn btn-primary btn-block" value="Register" action="#{authenticationMBeanController.register}">
                                                <f:param name="signUpType" value="FIRM"/>
                                            </h:commandButton>
                                        </div> <!-- form-group// -->
                                        <small class="text-muted">By clicking the 'Sign Up' button, you confirm that you accept our <br/> Terms of use and Privacy Policy.</small>
                                    </div>
                                </h:form>
                            </article> <!-- card-body end .// -->
                        </div> <!-- card.// -->
                    </div> <!-- col.//-->

                </div> <!-- row.//-->

                <div class="row justify-content-center" id="login" style="display: none;">
                    <div class="col-md-6">
                        <div class="card">
                            <header class="card-header">
                                <a class="float-right btn btn-outline-primary mt-1" style="color: #007bff;" onclick="hide()">Sign up</a>
                                <h4 class="card-title mt-2">Log In</h4>
                            </header>
                            <article class="card-body">
                                <form method="post">
                                    <div class="form-group">
                                        <label>Email</label>
                                        <input type="email" class="form-control" placeholder="email address" id="username" name="username"/>
                                    </div>
                                    <div class="form-group">
                                        <label>Password</label>
                                        <input class="form-control" type="password" id="password" name="password"/>
                                    </div> <!-- form-group end.// -->
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary btn-block"> Log In  </button>
                                    </div> <!-- form-group// -->
                                    <small class="text-muted">You are registred,please log in.</small>
                                </form>
                            </article> <!-- card-body end .// -->
                        </div> <!-- card.// -->
                    </div> <!-- col.//-->

                </div> <!-- row.//-->

            </div>
        </ui:define>
        <ui:define name="scripts">
            <h:outputScript name="js/authentication.js" />
            <h:outputScript name="js/enter.js" />
            <h:outputScript name="js/autocomplete.js" />
        </ui:define>
    </ui:composition>

</body>
</html>